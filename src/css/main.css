:root{
  --bg:#0f172a; --panel:#111827; --text:#e5e7eb; --muted:#94a3b8; --accent:#22c55e; --accent-2:#2563eb; --warn:#fbbf24; --danger:#ef4444; --grid-bg:#0b1220; --cell:#1f2937; --cell-border:#0b1220; --cell-done:#16a34a;
}

.hidden{display:none!important}

*{box-sizing:border-box}

html,body{height:100%}
 
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial;
  display:grid; grid-template-rows:auto 1fr auto;
}

/* Header / Logo */
header{padding:12px 16px 0; text-align:center}

.logo-text{font-size:44px;font-weight:700;letter-spacing:4px}

.logo-b{color:#4ac092}
.logo-o1{color:#4ac092;position:relative;top:-6px}
.logo-o2{color:#1761d0;position:relative;top:-6px}
.logo-k{color:#4ac092}

.logo-img{
  display:block; height:100px; margin:6px auto 0;
  object-fit:contain; user-select:none; -webkit-user-drag:none;
  filter:drop-shadow(0 0 0 rgba(0,0,0,0));
}

/* HEADER sempre por cima do drawer */
header{
  position: sticky; /* fica colado no topo ao rolar */
  top: 0;
  z-index: 30; /* acima do drawer */
  padding: 12px 16px 0;
  text-align: center;
  background: var(--bg); /* precisa ter fundo s√≥lido pra ocultar o que vem atr√°s */
}

/* ‚Äúcortina‚Äù que cobre o topo do drawer nos primeiros px
   criando a sensa√ß√£o de que ele sai de tr√°s do header */
header::after{
  content:"";
  position:absolute;
  left:0; right:0; bottom:-1px; /* levemente abaixo do header */
  height:14px; /* quanto maior, mais ‚Äúprofunda‚Äù a cortina */
  background: linear-gradient(
    to bottom,
    var(--bg) 0%,
    var(--bg) 50%,
    rgba(0,0,0,0) 100%
  );
  pointer-events:none;
  z-index: 31; /* acima do drawer tamb√©m */
}

/* Tabs + hamburger */
.tabs{display:flex;gap:10px;justify-content:center;margin:10px 0}
.tabs-left,.tabs-right{display:flex;gap:8px;align-items:center}

/* para facilitar o "sumir dentro da aba" */
.tabs-left{ position: relative; }
.tab[data-page="progresso"]{ position:relative; z-index:2; }

/* quando N√ÉO for Progresso, esconda/colapse o hamb√∫rguer.
   Isso recentraliza as tabs e anima suave. */
header.hamburger-hidden .hamburger{
  transform: translateX(56px) scale(.92) rotate(0deg); /* ‚Äúentrando‚Äù pela direita */
  opacity: 0;
  z-index: 0;
  pointer-events: none;

  /* colapso suave para o layout re-centralizar */
  width: 0;
  padding: 0;
  margin: 0;
  border-width: 0;
}

.hamburger{
  background:#0b1220;border:1px solid #1f2937;color:#cbd5e1;
  border-radius:10px;padding:10px 12px;cursor:pointer;font-weight:900;
  position:relative; z-index:1;
  width:40px; /* fixa uma base pro colapso animar direitinho */
  overflow:hidden; /* evita ‚Äúvazar‚Äù quando colapsar */
  transform-origin:center; /* rota√ß√£o central */
  transition:
    transform .28s cubic-bezier(.2,.8,.2,1),
    opacity   .22s ease,
    z-index   .18s step-end,
    width     .28s cubic-bezier(.2,.8,.2,1),
    margin    .28s cubic-bezier(.2,.8,.2,1),
    padding   .28s cubic-bezier(.2,.8,.2,1),
    border-width .28s cubic-bezier(.2,.8,.2,1);
}

@media (prefers-reduced-motion: reduce){
  *{ transition: none !important; animation: none !important; }
}

/* quando o menu est√° ABERTO */
.hamburger.is-open{ transform: rotate(90deg); /* üîÅ gira 90¬∞ */ }

.tab{
  background:#0b1220;color:#cbd5e1;border:1px solid #1f2937;
  padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:700
}

.tab.active{background:#172036;color:#fff;border-color:#284267}

/* a aba Progresso fica ‚Äúpor cima‚Äù na sobreposi√ß√£o */
.tab[data-page="progresso"]{ position:relative; z-index:2; }

.current-book{margin:6px auto 0;max-width:920px;text-align:center}

.current-book #currentBookName{
  display:inline-block;background:#0b1220;border:1px solid #1f2937;
  padding:8px 2px;border-radius:10px;font-weight:700;color:#cbd5e1
}

/* quando N√ÉO for Progresso, esconda o hamb√∫rguer empurrando-o para a direita,
   como se ele entrasse por tr√°s do bot√£o Progresso */
header.hamburger-hidden .hamburger{
  transform: translateX(48px) scale(.92); /* ajuste fino: 36‚Äì56px */
  opacity: 0;
  z-index: 0; /* fica por baixo da aba Progresso */
  pointer-events: none;
}
header.hamburger-hidden .current-book{
  display: none !important;
}

/* ============ TIMER layout ============ */
/* TIMER: empilha se√ß√µes em coluna */
.timer{
  max-width:760px;
  margin:0 auto;
  display:flex;               /* era grid */
  flex-direction: column;     /* empilha em coluna */
  gap:15px;
}

/* seletor de livro vai para o TOPO */
.timer-select-wrap{ order: 2; }

/* bloco com Dura√ß√£o + Meta de p√°ginas vem logo ABAIXO */
.row-two{ order: 3; }
.row-two{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px}

.timer-select-wrap{display:flex;
  justify-content:center}
.timer-select{width:min(400px,100%)}

.timer-box{ order: 1; }
.timer-box{
  background: var(--panel);
  border: 1px solid #1f2937;
  border-radius: 14px;
  padding: 16px;
  text-align: center;
}
.timer-box .display{
  background:transparent;
  border:none;
  font-size:60px;
  font-weight:900;
  letter-spacing:1px;
  padding:0;
}
.btnbar{ order: 1; }
.btnbar{
  display:flex;
  justify-content:center;
  gap:20px;
  margin:10px 0 6px}

.btn.timerCtl{min-width:120px;height:48px;border-radius:14px}

.commit-row{ order: 3; }
.commit-row{
  display:grid;
  grid-template-columns:1fr auto;
  gap:10px;
  align-items:end}
.commit-row .btn{
  height:44px;
  padding:0 16px}

#timerMinutes,#timerTargetPages,#timerPagesRead,#timerBookSelect{height:35px}



main{padding:0 16px}
.page{display:none}.page.active{display:block}
.card{background:var(--panel);border:1px solid #1f2937;border-radius:14px;padding:14px;margin-bottom:12px}
.row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
label{font-size:12px;color:var(--muted)}
input,select{width:100%;padding:10px;border-radius:10px;border:1px solid #334155;background:#0b1220;color:var(--text)}

.pill{background:#0b1220;padding:10px;border-radius:10px;text-align:center}
.pill .big{font-weight:700;font-size:18px}
.pill .sub{font-size:11px;color:var(--muted)}

.grid-wrap{background:var(--grid-bg);border-radius:12px;border:1px solid #1f2937;padding:10px}
.grid-flex{display:flex;gap:40px}

/* t√≠tulo do livro mais destacado */
.current-book #currentBookName{
  display:inline-block;background:#0b1220;border:1px solid #1f2937;
  padding:10px 18px;border-radius:12px;font-weight:800;font-size:22px;color:#cbd5e1;
}

/* coluna direita da grade */
.side{display:flex;align-items:flex-start}
.side-pill{background:#0b1220;border:1px solid #1f2937;border-radius:12px;padding:10px 14px;min-width:150px;text-align:center}
.side-label{font-size:12px;color:#94a3b8;margin-bottom:6px}
.side-big{font-size:28px;font-weight:900}

.grid{display:grid;gap:6px}
.row-grid{display:grid;grid-template-columns:70px auto 70px;gap:6px;align-items:center}
.cycle,.time{background:#0b1220;border:1px solid #1f2937;padding:6px 4px;border-radius:8px;font-weight:700;text-align:center}
.time{color:#fde68a}
.cells{display:inline-grid;grid-auto-flow:column;gap:4px}
.cell{width:24px;height:24px;border-radius:6px;background:var(--cell);border:1px solid var(--cell-border)}
.cell.done{background:var(--cell-done)}

.controls{display:grid;gap:20px;justify-items:center}
.controls .top{display:grid;grid-template-columns:repeat(3,100px);gap:20px}
.controls .bottom{display:grid;grid-template-columns:repeat(2,155px);gap:26px}
.btn{border:none;border-radius:14px;padding:16px 15px;font-weight:750;font-size:14.5px;cursor:pointer}
.btn.green{background:var(--accent);color:#0b1220}
.btn.blue{background:var(--accent-2);color:#fff}
.btn.warn{background:var(--warn)}
.btn.danger{background:var(--danger);color:#fff}
.btn.ghost{background:#0b1220;color:#cbd5e1;border:1px solid #1f2937}
.btn.timerCtl{min-width:100px;height:48px;border-radius:14px}
.btn.active{background:var(--accent-2)!important;color:#fff!important}

.btnbar{display:flex;justify-content:center;gap:20px;margin:20px 0}

/* Drawer (menu retr√°til) ‚Äî sai de tr√°s do header */
.drawer{
  max-width:960px;
  margin: 0 auto;
  overflow: hidden;

  /* estados base (fechado) */
  max-height: 0;
  opacity: 0;
  transform: translateY(-10px) scaleY(.98);  /* come√ßa levemente ‚Äúatr√°s‚Äù e comprimido */
  border-width: 0;                            /* some a borda quando fechado */

  /* anima√ß√µes */
  transition:
    max-height .36s cubic-bezier(.2,.8,.2,1),
    transform  .28s cubic-bezier(.2,.8,.2,1),
    opacity    .22s ease,
    border-width .18s step-start,
    padding      .28s cubic-bezier(.2,.8,.2,1),
    margin       .28s cubic-bezier(.2,.8,.2,1);
  will-change: max-height, transform, opacity;
  z-index: 10;             /* abaixo do header (que est√° 30/31) */
}

/* aberto: parece que desliza para frente, vindo de tr√°s do header */
.drawer.open{
  max-height: 1000px;             /* suficiente pro conte√∫do */
  opacity: 1;
  transform: translateY(0) scaleY(1);
  border-width: 1px;
}

/* mant√©m seu visual de card quando aberto */
.drawer.open.card{
  background: var(--panel);
  border: 1px solid #1f2937;
  border-radius: 14px;
  padding: 14px;
  margin-bottom: 12px;
  /* um leve shadow ajuda a sensa√ß√£o de ‚Äúsair de tr√°s‚Äù */
  box-shadow: 0 8px 18px rgba(0,0,0,.25);
}

/* Linha do livro */
.book-row{display:grid;grid-template-columns:1fr 90px;gap:10px;margin-bottom:12px}
.book-select{height:44px}
.book-add{display:flex;align-items:flex-end}
.btn.solid{height:44px;border-radius:12px}

/* Modal de livro */
.modal{position:fixed;inset:0;background:#00000088;display:flex;align-items:center;justify-content:center;z-index:50}
.modal.hidden{display:none}
.modal-card{background:var(--panel);border:1px solid #1f2937;border-radius:14px;padding:16px;min-width:min(640px,92vw)}
.modal-card h3{margin:0 0 8px 0}
.chips{display:flex;gap:8px;flex-wrap:wrap}
.chip{background:#0b1220;border:1px solid #1f2937;color:#cbd5e1;border-radius:999px;padding:8px 12px;cursor:pointer}
.chip.active{background:#2563eb;color:#fff;border-color:#284267}
.modal-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:10px}
.cover-upload{display:grid;grid-template-columns:120px 1fr;gap:12px;align-items:center}
.cover-preview{width:100px;height:140px;border-radius:8px;border:1px solid #1f2937;background:#0b1220;object-fit:cover}


/* Di√°rio ‚Äî estante com tiles de tamanho fixo (n√£o esticam) */
#page-diario .shelf{
  --tile: 150px;         /* mesmo tamanho que voc√™ gostou */
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(var(--tile), var(--tile)));
  justify-content: center;  /* centraliza quando ‚Äúsobra‚Äù espa√ßo */
  gap: 14px;                /* mant√©m o espa√ßamento atual */
  max-width: 520px;         /* acompanha o card do di√°rio */
  margin-inline: auto;
  padding-inline: 12px;
  box-sizing: border-box;
}

/* Tabela antiga di√°rio */
.table{width:100%;border-collapse:collapse}
.table th,.table td{padding:8px;border-bottom:1px solid #1f2937}
.table th{color:#94a3b8;font-weight:700;text-align:left}
.legend{display:flex;flex-direction:column;gap:10px;align-items:flex-start;font-size:12px;color:var(--muted);padding:8px}
.dot{width:12px;height:12px;border-radius:3px;display:inline-block;margin-right:4px}

/* ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî DI√ÅRIO: biblioteca/estante ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî */
.diary-header{display:flex; gap:15px; justify-content:center;}
.counter{
  background: var(--panel);
  border: 1px solid #1f2937;
  border-radius: 14px;
  padding: 12px 16px;
  text-align: center;
}

.counter .num{font-size:22px;font-weight:900}
.counter .lbl{font-size:12px;color:var(--muted)}



.shelf{max-width:980px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:14px}
.book-card{background:#0b1220;border:1px solid #1f2937;border-radius:12px;padding:10px;display:flex;flex-direction:column;gap:8px}
.book-cover{position:relative;width:100%;aspect-ratio:2/3;border-radius:10px;overflow:hidden;background:#060b16;border:1px solid #1f2937}
.book-cover img{width:100%;height:100%;object-fit:cover;display:block}
.badge{position:absolute;left:8px;top:8px;background:#2563eb;color:#fff;border-radius:8px;padding:4px 8px;font-weight:800;font-size:11px}
.badge.lido{background:#16a34a}
.badge.novo{background:#6b7280}
.book-title{font-size:14px;font-weight:700;line-height:1.2;min-height:2.2em}
.progress-bar{height:6px;border-radius:999px;background:#111827;border:1px solid #1f2937;overflow:hidden}
.progress-bar>span{display:block;height:100%; background:linear-gradient(90deg,#22c55e,#2563eb); width:0%}

.book-card{ position: relative; }              /* para posicionar o checkbox */
.select-check{
  position: absolute;
  right: 8px; top: 8px;
  width: 18px; height: 18px;
  accent-color: #ef4444;                      /* vermelho bonito */
}
/* Di√°rio ‚Äî centralizar e manter padr√£o */
#page-diario .card {
  max-width: 520px;     /* mesmo valor que os outros cards */
  margin-inline: auto;  /* centraliza */
}

/* Estante (shelf) tamb√©m limitada */
#page-diario .shelf {
  max-width: 980px;     /* pode ser maior que os cards, pra caber a grade */
  margin-inline: auto;
  padding-inline: 12px; /* respiro nas laterais */
  box-sizing: border-box;
}



/* ================= Di√°rio: grade 3 por linha ================= */

/* === MARGEM Di√°rio === */
#page-diario .card{
  max-width: 720px;
  margin-inline: auto;}
/* === MARGEM Di√°rio === */

#page-diario .shelf{
  --tile: 150px;
  --gap: 14px;
  display: grid;
  grid-template-columns: repeat(3, var(--tile)); /* 3 fixo */
  gap: var(--gap);
  width: calc(3 * var(--tile) + 2 * var(--gap)); /* preserva 3 colunas mesmo com 1‚Äì2 livros */
  max-width: 100%;
  margin-inline: auto;
  justify-content: center;
  padding-inline: 12px;
  box-sizing: border-box;
}

/* quebra responsiva: 2 colunas */
@media (max-width: 540px){
  #page-diario .shelf{
    grid-template-columns: repeat(2, var(--tile));
    width: calc(2 * var(--tile) + 1 * var(--gap));
  }
}
/* quebra responsiva: 1 coluna */
@media (max-width: 360px){
  #page-diario .shelf{
    grid-template-columns: repeat(1, var(--tile));
    width: var(--tile);
  }
}

/* ===== Di√°rio: layout topo (data + contadores) ===== */
.diary-top{
  display:grid;
  grid-template-columns: auto 1fr;
  align-items:center;
  gap:16px;
}
@media (max-width: 560px){
  .diary-top{ grid-template-columns: 1fr; justify-items:center; }
}



/* Cart√£o de data (estilo ‚Äúcalend√°rio‚Äù) */
.today-card{
  --size: 110px;
  width: var(--size);
  height: var(--size);
  border: 2px solid #e5e7eb;
  border-radius: 16px;
  position: relative;
  display: grid;
  place-items: center;
  background: transparent;
  color: #e5e7eb;
}
.today-card::before, .today-card::after{
  content:"";
  position:absolute; top:-10px; width:20px; height:10px;
  border:2px solid #e5e7eb; border-bottom:0; border-radius:8px 8px 0 0;
  background:transparent;
}
.today-card::before{ left:18px; }
.today-card::after { right:18px; }

.tc-ring{
  position:absolute; top:6px; left:50%; transform:translateX(-50%);
  width:70%; height:16px; border:2px solid #e5e7eb; border-radius:8px;
  display:flex; align-items:center; justify-content:center;
  font-size:12px; font-weight:700;
}
.tc-month{ opacity:.9; letter-spacing:.3px; }

.tc-day{
  font-size:34px; font-weight:900; line-height:1;
  margin-top:18px;
}
.tc-week{
  font-size:15px; font-weight:700; opacity:.9; margin-top:-20px;
}

/* Barra de bot√µes do Di√°rio (menor e discreta) */
.diary-bar.bottom{
  display:flex; gap:10px; justify-content:flex-end;
  margin-top:12px;
}
.btn.sm{ padding:10px 12px; font-size:13px; border-radius:10px; }
.btn.ghost{ background:#0b1220; color:#cbd5e1; border:1px solid #1f2937; }


/* ================= Modal de Detalhe do Livro ================= */
#bookDetailModal .modal-card{
  max-width: min(720px, 92vw);
}

.bd-header{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  margin-bottom: 8px;
}
.bd-title{ font-size:18px; font-weight:800; }

.bd-body{
  display:grid; grid-template-columns: 150px 1fr; gap:16px;
}
.bd-cover{
  width:150px; height:225px; border-radius:10px; overflow:hidden;
  border:1px solid #1f2937; background:#060b16;
}
.bd-cover img{ width:100%; height:100%; object-fit:cover; display:block; }

.bd-meta{
  background:#0b1220; border:1px solid #1f2937; border-radius:12px; padding:12px;
  display:grid; gap:8px;
}
.bd-meta .row{ display:grid; grid-template-columns: 1fr 1fr; gap:8px; }
.bd-kv{ background:#0b1220; border:1px solid #1f2937; border-radius:10px; padding:8px; }
.bd-kv .kv-label{ font-size:11px; color:var(--muted); }
.bd-kv .kv-value{ font-size:14px; font-weight:800; }

.bd-stars{ display:flex; align-items:center; gap:8px; }
.bd-stars .star{ font-size:18px; opacity:.35; }
.bd-stars .star.on{ opacity:1; color:#fbbf24; }

.bd-section-title{
  margin-top:12px; font-size:13px; font-weight:800; color:#cbd5e1;
}

.bd-logs{
  display:grid; gap:10px; margin-top:8px;
}
.bd-log{
  background:#0b1220; border:1px solid #1f2937; border-radius:12px; padding:10px;
}
.bd-log-head{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  font-size:13px; font-weight:700;
}
.bd-log-stars .star{ font-size:14px; opacity:.35; }
.bd-log-stars .star.on{ opacity:1; color:#fbbf24; }
.bd-log-note{
  margin-top:6px; font-size:13px; color:#cbd5e1; white-space:pre-wrap;
}

.bd-actions{
  display:flex; justify-content:flex-end; gap:10px; margin-top:12px;
}

/* ----- Escolha do ANO ----- */
/* ===== Modal base (use suas cores) ===== */
.modal{position:fixed;inset:0;display:grid;place-items:center;background:rgba(0,0,0,.45);z-index:50}
.modal.hidden{display:none}
.modal-card{background:#0f172a;border:1px solid #334155;border-radius:14px;padding:16px 18px;min-width:320px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
.year-card{display:grid;gap:12px}
.year-title{color:#e5e7eb;text-align:center;font-weight:700;letter-spacing:.4px;opacity:.9}


/* ===== Dial (setas + anos) ===== */
.year-dial{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:10px}
.years-row{display:flex;align-items:center;justify-content:center;gap:10px;min-width:0}

/* bot√µes-ano (o JS aplica classes is-center / is-side / disabled) */
.btn-year{
  appearance:none;border:1px solid #334155;background:#111827;color:#e5e7eb;
  border-radius:12px;padding:10px 16px;font-weight:800;letter-spacing:.3px;
  transition:transform .18s ease, opacity .18s ease, background .18s ease, border-color .18s ease;
}
.btn-year.is-center{
  background:#1f2937;border-color:#3b82f6;color:#fff;
  transform:scale(1.14);          /* maior no centro */
  font-size:20px;
  box-shadow:0 4px 14px rgba(59,130,246,.18);
}
.btn-year.is-side{
  opacity:.55;                     /* apagado */
  font-size:16px;
  transform:scale(.94);
}
.btn-year:hover{border-color:#3b82f6}
.btn-year.disabled{
  opacity:.25; pointer-events:none; filter:grayscale(.3);
}

/* setas estilo "play" (mesmo visual das setas de m√™s) */
.year-arrow{
  inline-size:36px; block-size:36px; border-radius:10px;
  background:#111827;border:1px solid #334155; display:grid; place-items:center;
  position:relative; cursor:pointer; transition:transform .16s ease, border-color .16s ease;
}
.year-arrow:hover{border-color:#3b82f6}
.year-arrow:active{transform:scale(.95)}
.year-arrow::before{
  content:""; display:block; width:0; height:0;
  border-top:6px solid transparent; border-bottom:6px solid transparent;
  border-left:9px solid #e5e7eb;    /* tri√¢ngulo apontando para a direita */
}
.play-left::before{
  transform:rotate(180deg);         /* inverte para a esquerda */
}
.year-arrow.disabled{opacity:.35; pointer-events:none}


/* ===== Modal base (mant√©m seu tema) ===== */
.modal{position:fixed;inset:0;display:grid;place-items:center;background:rgba(0,0,0,.45);z-index:60}
.modal.hidden{display:none}
.modal-card{background:#0f172a;border:1px solid #334155;border-radius:14px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
.finished-card{width:min(900px, 92vw);display:grid;gap:14px}
.goal-card{width:min(400px,90vw);display:grid;gap:14px}
.ge-head{display:flex;align-items:center;justify-content:space-between}
.ge-title{color:#e5e7eb;font-weight:800;font-size:18px}
.ge-body{display:grid;gap:10px}
.ge-label{color:#94a3b8;font-weight:600}
.ge-input{
  background:#111827;border:1px solid #334155;border-radius:8px;
  padding:8px 12px;color:#e5e7eb;font-size:16px
}
.ge-message{min-height:20px;font-size:14px;color:#cbd5e1;font-style:italic}
.ge-btn{
  background:#2563eb;color:#fff;font-weight:700;padding:10px;border-radius:10px;
  cursor:pointer;border:none;text-align:center
}
.ge-btn:hover{background:#1d4ed8}



/* Cabe√ßalho do modal */
.fm-head{display:flex;align-items:center;justify-content:space-between}
.fm-title{color:#e5e7eb;font-weight:800;font-size:18px;letter-spacing:.3px}
.fm-x{background:#111827;border:1px solid #334155;color:#e5e7eb;border-radius:10px;width:36px;height:36px;cursor:pointer}
.fm-x:hover{border-color:#3b82f6}

/* Medidor de meta */
.fm-meter{border:1px solid #334155;border-radius:12px;padding:12px;display:grid;gap:8px;background:#0b1220}
.fm-row{display:flex;align-items:center;justify-content:space-between}
.fm-label{color:#94a3b8;font-weight:600}
.fm-value{color:#e5e7eb;font-weight:800}

/* barra de progresso reaproveitando sua .progress-bar */
.progress-bar{position:relative;height:10px;border-radius:999px;background:#1f2937;overflow:hidden;border:1px solid #334155}
.progress-bar > span{position:absolute;inset:0 0 0 auto;width:0;border-radius:999px}

/* cores do fill baseadas no seu esquema */
.progress-bar.pill-blue  > span{background:#2563eb}
.progress-bar.pill-green > span{background:#22c55e}
.progress-bar.pill-amber > span{background:#fbbf24}
.progress-bar.pill-red   > span{background:#ef4444}
.progress-bar.pill-gray  > span{background:#334155}

/* Grade de livros finalizados (igual ‚Äúshelf‚Äù, mas local) */
.fm-grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap:12px;
}
.fm-grid .book-card{cursor:pointer}


/* pill "Lidas X / Y" */
.pages-pill{
  width:100%;
  display:flex; align-items:center; justify-content:space-between;
  gap:10px;
  background:#0b1220; border:1px solid #1f2937; color:#e5e7eb;
  border-radius:10px; padding:10px 12px; cursor:pointer;
}
.pages-pill .pill-label{font-weight:800;color:#cbd5e1}
.pill-badge{
  display:inline-block; min-width:92px; text-align:center;
  padding:6px 10px; border-radius:10px; font-weight:900;
  border:1px solid rgba(255,255,255,.06);
}

/* cores por faixa */
.pill-gray  { background:#374151; color:#fff; }
.pill-red   { background:#ef4444; color:#fff; }
.pill-amber { background:#f59e0b; color:#111827; }
.pill-green { background:#22c55e; color:#0b1220; }
.pill-blue  { background:#2563eb; color:#fff; }

/* modal pequeno */
.modal-card.modal-small{ min-width:min(420px,92vw); }


/* 1) Header: cortina s√≥lida para cobrir a emenda */
header{
  position: sticky;
  top: 0;
  z-index: 30;
  padding: 12px 16px 0;
  text-align: center;
  background: var(--bg);
  /* sem borda no header para n√£o criar mais um tra√ßo */
  border-bottom: 0;
}

/* cobre alguns pixels logo abaixo do header, eliminando o "hairline" */
header::after{
  content:"";
  position:absolute;
  left:0; right:0;
  bottom:-10px; /* empurra a cortina para baixo */
  height:10px;  /* quanto maior, mais cobre a emenda */
  background: var(--bg); /* s√≥lido resolve a linha */
  pointer-events:none;
  z-index:31;
}

/* 2) Drawer: nada de borda no topo (evita linha dupla) */
.drawer.open.card{
  position: relative; /* para o ::before funcionar */
  border-top: 0;      /* remove a borda que estava formando a linha */
  /* (demais estilos do seu .drawer.open.card ficam como j√° est√£o) */
}

/* 3) Um degrad√™ suave na borda superior do drawer para parecer que sai de tr√°s do header */
.drawer.open.card::before{
  content:"";
  position:absolute;
  left:0; right:0; top:0;
  height:12px;
  border-top-left-radius:14px;
  border-top-right-radius:14px;
  background: linear-gradient(
    to bottom,
    rgba(0,0,0,.35) 0%,
    rgba(0,0,0,.18) 35%,
    rgba(0,0,0,0)   100%
  );
  pointer-events:none;
}

/* Centraliza a grade + contador lateral dentro do card */
.grid-wrap .grid-flex{
  justify-content: center;   /* fica no meio do card */
  margin-inline: auto;       /* garante centraliza√ß√£o em alguns layouts */
  width: 100%;
}

/* deixa a legenda centralizada tamb√©m */
.grid-wrap .legend{ align-items: center; }

/* Responsivo: quando a tela for estreita, empilha e mant√©m tudo central */
@media (max-width: 820px){
  .grid-flex{
    flex-direction: column;
    align-items: center;
    gap: 20px;
  }
  .row-grid{ grid-template-columns: 56px auto 56px; }
}

/* opcional: limita a largura m√°xima do card da grade */
.grid-wrap{ max-width: 980px; margin-inline: auto; }


/* ===== Progresso: grade dos 3 cards ===== */

/* Base: 3 colunas, largura controlada e centralizada */
.stats{
  display:grid;
  grid-template-columns: repeat(3, minmax(180px, 1fr));
  gap:14px;
  max-width: 720px;      /* controla at√© onde esses cards podem ‚Äúalongar‚Äù */
  margin-inline:auto;    /* centraliza dentro do card */
}

/* Quando afunilar: 2 colunas e o 3¬∫ card centralizado na 2¬™ linha */
@media (max-width: 700px){
  .stats{
    grid-template-columns: repeat(2, minmax(220px, 1fr));
    max-width: 480px;    /* evita ficar largo demais nessa quebra */
  }
  .stats .pill:nth-child(3){
    grid-column: 1 / -1;     /* ocupa a linha toda */
    justify-self: center;    /* ...mas fica centralizado */
    width: min(420px, 100%); /* tamanho bonito pro card central */
  }
}

/* Bem estreito: empilha (1 coluna) */
@media (max-width: 540px){
  .stats{
    grid-template-columns: 1fr;
    max-width: 320px;    /* mant√©m um limite agrad√°vel */
  }
}

/* regra geral para todos os cards */
.card{
  max-width: 720px;      /* üëà ajuste o valor at√© ficar proporcional ao que voc√™ goste */
  margin-inline: auto;   /* centraliza no meio */
}

/* em telas pequenas, deixa ocupar 100% */
@media (max-width: 768px){
  .card{ max-width: 100%; }
}

/* barra com o t√≠tulo do livro */
.current-book{
  margin-top: 6px;    /* espa√ßo em rela√ß√£o ao menu */
  margin-bottom: 1px;  /* aproxima dos cards de stats */
}

.current-book #currentBookName{
  font-size: 22px;
  font-weight: 800;
  padding: 10px 18px;
  border-radius: 12px;
  background:#0b1220;
  border:1px solid #1f2937;
  color:#cbd5e1;
}

/* ===== Review (Progresso) ===== */
#reviewModal .modal-card{ max-width:min(520px,92vw); }
#reviewModal .rv-stars{
  display:flex; gap:8px; align-items:center; margin-top:6px;
}
#reviewModal .rv-stars .star{
  font-size:28px; line-height:1; cursor:pointer; user-select:none;
  transition: transform .12s ease;
  color:#475569; /* cinza */
}
#reviewModal .rv-stars .star.on{ color:#fbbf24; }          /* amarelinho */
#reviewModal .rv-stars .star:active{ transform: scale(.92); }
/* Esconde o X no modal de review */
#reviewModal .modal-x { 
  display: none !important; 
}

/* se existir algum X antigo no modal de review, some com ele */
#reviewModal .close, #reviewModal .close-x { display:none !important; }


/* garante que o 1¬∫ card n√£o ‚Äúabra‚Äù espa√ßo extra acima */
#page-progresso .current-book + .card{
  margin-top: 0;
}
/* Review stars (cobre .rv-stars e .review-stars) */
#reviewModal .rv-stars .star,
#reviewModal .review-stars .star{
  font-size:28px; line-height:1; cursor:pointer; user-select:none;
  transition: transform .12s ease;
  color:#475569; /* cinza */
}

#reviewModal .rv-stars .star.on,
#reviewModal .review-stars .star.on{
  color:#fbbf24; /* amarelo quando ‚Äúon‚Äù */
}

#reviewModal .rv-stars .star:active,
#reviewModal .review-stars .star:active{
  transform: scale(.92);
}

.modal .modal-x { display: none !important; }

/* Mapear classes antigas (detail-*, logs-*) para os estilos bd-* */

.detail-card { max-width: min(720px, 92vw); }

/* capa */
.detail-cover {
  width:150px; height:225px; border-radius:10px; overflow:hidden;
  border:1px solid #1f2937; background:#060b16;
}
.detail-cover img { width:100%; height:100%; object-fit:cover; display:block; }

/* meta */
.detail-meta {
  background:#0b1220; border:1px solid #1f2937; border-radius:12px; padding:12px;
  display:grid; gap:8px;
}
.detail-meta .meta-line { margin: 4px 0; }

/* bloco de m√©dia de estrelas */
.avg-stars-wrap { display:flex; align-items:center; gap:8px; }
.avg-stars-wrap .stars .star { font-size:18px; opacity:.35; }
.avg-stars-wrap .stars .star.on { opacity:1; color:#fbbf24; }

/* se√ß√£o de logs */
.logs { display:grid; gap:10px; margin-top:8px; }
.logs-title { margin-top:12px; font-size:13px; font-weight:800; color:#cbd5e1; }
.logs-list .bd-log {
  background:#0b1220; border:1px solid #1f2937; border-radius:12px; padding:10px;
}
.bd-log-head {
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  font-size:13px; font-weight:700;
}
.bd-log-stars .star{ font-size:14px; opacity:.35; }
.bd-log-stars .star.on{ opacity:1; color:#fbbf24; }
.bd-log-note{ margin-top:6px; font-size:13px; color:#cbd5e1; white-space:pre-wrap; }


/* ===== Detalhe do Livro (for√ßar lado a lado) ===== */
#bookDetailModal .detail-title{
  text-align:center !important;
  font-size:1.4rem;
  margin:4px 0 16px;
  letter-spacing:.3px;
}

#bookDetailModal .detail-grid{
  display:flex !important;          /* for√ßa flex mesmo se havia grid antes */
  gap:20px;
  align-items:flex-start;
}

#bookDetailModal .detail-cover{ flex:0 0 auto; }
#bookDetailModal .detail-cover img{
  width:168px;
  height:auto;
  border-radius:12px;
  box-shadow:0 6px 18px rgba(0,0,0,.35);
  display:block;
}

#bookDetailModal .detail-meta{
  flex:1 1 360px;                   /* ocupa o restante, com largura m√≠nima */
  max-width:100%;
  background:rgba(255,255,255,.03);
  border:1px solid rgba(255,255,255,.06);
  border-radius:12px;
  padding:14px 16px;
}
#bookDetailModal .detail-meta .meta-line{ margin:6px 0; line-height:1.35; }

#bookDetailModal .avg-stars-wrap{
  display:flex; align-items:center; gap:8px;
}

/* responsivo */
@media (max-width:640px){
  #bookDetailModal .detail-grid{ flex-direction:column !important; align-items:center; }
  #bookDetailModal .detail-cover img{ width:200px; }
  #bookDetailModal .detail-meta{ width:100%; }
}

/* a barra do livro ocupa a linha abaixo do menu */
.current-book{
  display: block;          /* garante bloco */
  width: 100%;
  clear: both;             /* for√ßa quebrar linha se algo flutuar */
  margin-top: 6px;
  margin-bottom: 8px;
}


}
/* ===== Header s√≥ na p√°gina PROGRESSO ===== */
header:not(.hamburger-hidden){
  display: grid;
  /* 3 colunas: esquerda p/ hamb√∫rguer, centro p/ tabs, direita livre */
  grid-template-columns: 1fr auto 1fr;
  grid-auto-rows: auto;
  row-gap: 8px;
  align-items: center;
  justify-items: center;
}

/* linha 1: logo centralizada ocupando as 3 colunas */
header:not(.hamburger-hidden) .logo-text,
header:not(.hamburger-hidden) .logo-img{
  grid-column: 1 / -1;
}

/* linha 2: hamb√∫rguer √† esquerda e TABS no centro (sempre centralizadas) */
header:not(.hamburger-hidden) .hamburger{
  grid-column: 1;          /* col. esquerda */
  justify-self: start;     /* gruda √† esquerda */
}
header:not(.hamburger-hidden) .tabs{
  grid-column: 2;          /* col. central */
  justify-self: center;    /* centraliza de verdade */
  width: auto;             /* n√£o ocupa a linha inteira */
}

/* linha 3: t√≠tulo do livro sozinho abaixo dos menus */
header:not(.hamburger-hidden) .current-book{
  grid-column: 1 / -1;     /* ocupa as 3 colunas */
  width: 100%;
  display: flex;
  justify-content: center;
  margin-top: 4px;
  margin-bottom: 8px;
}

/* ===== Header somente na p√°gina PROGRESSO (sem hamburger-hidden) ===== */
/* Grade est√°vel: 3 colunas (hamb√∫rguer | tabs centralizadas | espa√ßo livre) */
header:not(.hamburger-hidden){
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  grid-auto-rows: auto;
  row-gap: 8px;
  align-items: center;
  justify-items: center;
}

/* Logo ocupa a linha inteira (continua sticky/estilos do header base) */
header:not(.hamburger-hidden) .logo-text,
header:not(.hamburger-hidden) .logo-img{
  grid-column: 1 / -1;
}

/* Linha dos menus (sempre centralizada, n√£o ‚Äúdan√ßa‚Äù com o hamb√∫rguer) */
header:not(.hamburger-hidden) .tabs{
  grid-column: 2;          /* coluna central */
  justify-self: center;
  margin: 10px 0;
}

/* Hamb√∫rguer fixo na coluna esquerda */
header:not(.hamburger-hidden) .hamburger{
  grid-column: 1;
  justify-self: start;
}

/* T√≠tulo do livro em linha pr√≥pria, logo abaixo dos menus */
header:not(.hamburger-hidden) .current-book{
  grid-column: 1 / -1;     /* ocupa as 3 colunas */
  width: 100%;
  display: flex;
  justify-content: center;
  margin-top: 6px;
  margin-bottom: 8px;
}

/* Garante que o primeiro card n√£o abra espa√ßo extra acima no Progresso */
#page-progresso .current-book + .card{
  margin-top: 0;
}

/* Esconde a barra/t√≠tulo fora do Progresso (Timer/Di√°rio) */
header.hamburger-hidden .current-book{
  display: none !important;
}
#currentBookBar{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
}

#currentBookCover{
  width:28px; height:42px; border-radius:6px;
  border:1px solid #1f2937; object-fit:cover;
}

#currentBookName{ font-weight:800; }
#currentBookStatus{
  font-weight:800; font-size:12px;
  background:#0b1220; border:1px solid #1f2937;
  padding:4px 8px; border-radius:8px; color:#cbd5e1;
}


/* === Padroniza√ß√£o global de cards === */
.card{
  background: var(--panel);
  border: 1px solid #1f2937;
  border-radius: 14px;
  padding: 16px;
  margin-bottom: 16px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.25);  /* opcional: sombra suave */
}

/* t√≠tulos dentro de cards ficam com espa√ßamento igual */
.card h3, .card h4{
  margin-top: 0;
  margin-bottom: 10px;
  font-weight: 800;
  font-size: 16px;
  color: var(--text);
}
/* === Sistema √önico de Cards (override global) === */
:root{
  --card-bg: var(--panel);
  --card-bd: #1f2937;
  --card-radius: 14px;
  --card-pad: 16px;
}

/* 1) Fonte da verdade para qualquer .card */
.card{
  background: var(--card-bg) !important;
  border: 1px solid var(--card-bd) !important;
  border-radius: var(--card-radius) !important;
  padding: var(--card-pad) !important;
  margin-bottom: 16px !important;
  box-shadow: none; /* ou use uma sombra padr√£o se quiser */
}

/* 2) Fa√ßa estes blocos ‚Äúvirarem card‚Äù tamb√©m */
.grid-wrap,
.timer-box,
.counter,
.detail-meta,
.logs-list .bd-log,
.pages-pill,
.side-pill{
  background: var(--card-bg) !important;
  border: 1px solid var(--card-bd) !important;
  border-radius: var(--card-radius) !important;
}

.book-card{ background: var(--card-bg) !important; border: 1px solid var(--card-bd) !important; border-radius: var(--card-radius) !important; }

/* Pode deixar assim para n√£o conflitar */
#page-progresso .current-book{ margin-bottom: 0; }
#page-progresso .current-book + .card{ margin-top: 0; } /* n√£o pega pois n√£o s√£o irm√£os */


/* ====== BOOK DETAIL (fixo lado a lado, capa est√°vel) ====== */

/* 1) O card do modal ganha largura confort√°vel e rolagem horizontal caso a tela seja muito estreita */
#bookDetailModal .modal-card{
  width: min(860px, 96vw);   /* largura ‚Äúbonita‚Äù mas respeita viewport */
  min-width: 440px;          /* n√£o deixa colapsar a ponto de empilhar */
  overflow-x: auto;          /* se a tela for menor que 640px, aparece scroll horizontal */
}

/* 2) Grade sempre em 2 colunas: capa fixa + meta el√°stica */
#bookDetailModal .detail-grid{
  display: grid !important;
  grid-template-columns: 150px minmax(360px, 1fr); /* capa fixa 150, meta no restante */
  gap: 16px;
  align-items: start;
}

/* 3) Capa: exatamente como voc√™ usa na estante (150x225) */
#bookDetailModal .detail-cover{
  width: 150px !important;
  height: 225px !important;
  border-radius: 10px;
  overflow: hidden;
  border: 1px solid #1f2937;
  background:#060b16;
}
#bookDetailModal .detail-cover img{
  width: 100%; height: 100%; object-fit: cover; display: block;
}

/* 4) Bloco de meta mais ‚Äúseco‚Äù: margens e paddings enxutos */
#bookDetailModal .detail-meta{
  background: var(--panel);
  border: 1px solid #1f2937;
  border-radius: 12px;
  padding: 12px;             /* ajuste fino de respiro */
  display: grid;
  gap: 8px;                  /* dist√¢ncia m√≠nima entre linhas */
  min-width: 360px;          /* evita encolher demais e quebrar layout */
}
#bookDetailModal .detail-meta .meta-line{
  margin: 4px 0;
  line-height: 1.35;
}

/* 5) T√≠tulo centralizado, com respiro padr√£o */
#bookDetailModal .detail-title{
  text-align: center !important;
  font-size: 1.35rem;
  margin: 6px 0 14px;
  letter-spacing: .2px;
}

/* 6) Anula qualquer regra antiga que empilhava (sua @media anterior) */
@media (max-width: 640px){
  #bookDetailModal .detail-grid{
    display: grid !important;
    grid-template-columns: 150px minmax(360px, 1fr) !important;
    gap: 16px !important;
  }
}

/* lado a lado sempre, sem scroll horizontal no meta */
#bookDetailModal .detail-grid{
  display:grid;
  grid-template-columns: 168px 1fr;   /* capa fixa + dados el√°sticos */
  column-gap:16px;
  align-items:start;
}


/* ===== Detalhe do livro: grid est√°vel e alinhado ===== */
#bookDetailModal {
  --bd-pad: 18px;      /* padding do card */
  --bd-gap: 18px;      /* espa√ßo entre capa e meta */
}

#bookDetailModal{ z-index:70; }
#goalEditModal{ z-index:80; }   /* modal novo das metas */

#bookDetailModal .modal-card {
  padding: var(--bd-pad) !important;  /* card com padding √∫nico */
}

/* Capa fixa + coluna el√°stica para os dados, sem ‚Äúquebrar‚Äù embaixo */
#bookDetailModal .detail-grid{
  display: grid !important;
  grid-template-columns: 168px minmax(380px, 1fr); /* 168px de capa + meta com m√≠nima de 380px */
  column-gap: var(--bd-gap);
  align-items: start;
}

/* Capa travada (mesmo tamanho da biblioteca) */
#bookDetailModal .detail-cover{
  width: 168px; height: 252px;  /* 2:3 */
  border-radius: 10px; overflow: hidden;
  border: 1px solid #1f2937; background: #060b16;
}
#bookDetailModal .detail-cover img{
  width: 100%; height: 100%; object-fit: cover; display: block;
}

/* Meta ALINHADA ao card: sem largura fixa, preenche o espa√ßo dispon√≠vel */
#bookDetailModal .detail-meta{
  width: auto !important;      /* remove o clamp/52vw */
  min-width: 100px;            /* garante que n√£o ‚Äúamasse‚Äù demais */
  max-width: 100%;             /* nunca ultrapassa o card */
  box-sizing: border-box;
  background: var(--card-bg);
  border: 1px solid var(--card-bd);
  border-radius: var(--card-radius);
  padding: var(--card-pad);
}

/* Quando a tela ficar MUITO estreita, preservamos lado-a-lado.
   Se voc√™ preferir quebrar abaixo em telas super pequenas, troque 560px por 640px e use flex-direction: column. */
@media (max-width: 560px){
  #bookDetailModal .detail-grid{
    grid-template-columns: 140px minmax(320px, 1fr); /* reduz um pouco a capa e a m√≠nima da meta */
    column-gap: 14px;
  }
  #bookDetailModal .detail-cover{
    width: 140px; height: 210px;
  }
}


/* o cart√£o do modal passa a ter altura limitada e layout em coluna */
#bookDetailModal .modal-card{
  display:flex;
  flex-direction:column;
  max-height: 88vh;      /* altura total do modal */
  overflow:hidden;       /* nada vaza pra fora */
}

/* topo (t√≠tulo + capa + meta) n√£o rola */
#bookDetailModal .detail-title{ flex:0 0 auto; }
#bookDetailModal .detail-grid{  flex:0 0 auto; }

/* a se√ß√£o "Registros" ocupa o restante e rola sozinha */
#bookDetailModal .logs{
  flex:1 1 auto;      /* cresce e preenche */
  min-height:0;       /* IMPORTANT√çSSIMO para o scroll funcionar */
  overflow:auto;      /* scroll s√≥ aqui */
  padding-right:6px;  /* espa√ßo p/ n√£o colar na borda */
}

/* barra de a√ß√µes fixa no rodap√© do modal */
#bookDetailModal .bd-actions,
#bookDetailModal .modal-actions{ flex:0 0 auto; }

/* Limita a altura √∫til do conte√∫do do modal e p√µe scroll S√ì na lista */
#bookDetailModal .modal-card{
  max-height: 84vh;   /* limite total do card na janela */
  display: grid;
  grid-template-rows: auto auto 1fr auto; /* t√≠tulo | grid capa+meta | registros (scroll) | a√ß√µes */
  gap: 12px;
}

/* a √°rea de registros vira a parte rol√°vel */
#bookDetailModal .logs{
  overflow: auto;
  min-height: 140px;        /* um m√≠nimo simp√°tico */
  max-height: 100%;         /* ocupa o 1fr da grid do modal-card */
  background: var(--card-bg);
  border: 1px solid var(--card-bd);
  border-radius: var(--card-radius);
  padding: 10px;
}
.btn.square{
  width:44px; height:44px; padding:0;
  display:flex; align-items:center; justify-content:center;
}

#confirmDeleteModal .modal-card {
  max-width: 420px;   /* reduz a largura */
  width: 90%;         /* ocupa at√© 90% da tela em telas pequenas */
}

/* ===== Calend√°rio: faixa de meses (tamanho travado em 7 chips) ===== */
:root{
  /* ajuste fino se quiser chips maiores/menores */
  --chip-w: 56px;          /* largura m√≠nima visual do chip (sem padding) */
  --chip-px: 12px;         /* padding horizontal do chip */
  --chip-gap: 8px;         /* gap entre chips */
  --visible: 8;            /* QTD de chips vis√≠veis */
  /* largura m√°xima do viewport p/ caber exatamente 7 chips + gaps */
  --cal-max: calc((var(--chip-w) + 2*var(--chip-px)) * var(--visible)
                  + var(--chip-gap) * (var(--visible) - 1));
}

/* cont√™iner da fila + setas (deixe como est√°, s√≥ n√£o force crescimento do viewport) */
.months-wrap{
  display:flex; align-items:center; gap:8px;
  border:1px solid #334155; border-radius:12px;
  padding:8px 10px;
}

/* viewport rol√°vel com largura travada */
.months-viewport{
  flex: 0 0 auto;              /* N√ÉO crescer para ocupar todo o wrap */
  width: var(--cal-max);       /* trava o m√°ximo para caber 7 chips */
  max-width: 100%;             /* em telas menores, pode reduzir */
  overflow-x: auto;            /* rolagem quando faltar espa√ßo */
  white-space: nowrap;         /* tudo em uma linha */
  scrollbar-width: thin;       /* opcional (Firefox) */
}

/* a lista de chips dentro do viewport */
#calMonths{
  display: inline-flex;        /* mant√©m uma linha s√≥ */
  gap: var(--chip-gap);
  padding: 0; margin: 0;
}

/* cada chip n√£o pode esticar */
.month-chip{
  flex: 0 0 auto;              /* impede flex-grow */
  min-width: var(--chip-w);
  padding: 6px var(--chip-px);
  border-radius: 10px;
  /* ...suas cores/estilos atuais... */
}


.year-pill{
  background:transparent; color:#e5e7eb;
  border:1px solid #334155; border-radius:12px;
  padding:10px 14px;
  font-weight:900; font-size:18px;
  cursor:pointer;
}

/* cont√™iner da fila + setas */
.months-wrap,
.months-bar{ /* (mant√©m compat√≠vel se voc√™ usa .months-bar) */
  display:flex; align-items:center; gap:8px;
  border:1px solid #334155; border-radius:12px;
  padding: var(--wrap-pad);
  /* n√£o deixa a barra passar do limite calculado */
  max-width: 100%;
}

/* viewport: s√≥ a √°rea ‚Äújanela‚Äù entre as setas */
.months-viewport{
  flex:1 1 auto;
  min-width: var(--chip-w);
  /* era: overflow: hidden; */
  overflow: auto hidden;        /* ‚Üê permite scroll horizontal (sem barra) */
  scrollbar-width: none;
}
.months-viewport::-webkit-scrollbar{ display:none; }


/* fila horizontal dos meses */
.months{
  display:flex;
  gap: var(--chip-gap);
  padding: 0 4px;
  white-space: nowrap;          /* uma linha s√≥ */
  width: max-content;           /* mede pelo conte√∫do */
}

.month-chip.active{
  background:#2563eb; color:#fff; border-color:#284267;
}
.month-chip.disabled{
  opacity:.35; pointer-events:none; filter:grayscale(40%);
}

/* setas */
.arrow{
  background:transparent; color:#cbd5e1;
  border:1px solid #334155; border-radius:10px;
  padding:6px 10px; cursor:pointer;
  flex: 0 0 var(--arrow-w);     /* largura ‚Äútravada‚Äù */
  display:flex; align-items:center; justify-content:center;
}
.arrow:disabled{ opacity:.35; cursor:not-allowed; }

/* ===== Modal de anos ===== */
.year-picker{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
}
.year-list{ display:flex; gap:10px; align-items:center; justify-content:center; flex-wrap:wrap; }
.year-item{
  background:transparent; color:#e5e7eb;
  border:1px solid #334155; border-radius:10px; padding:10px 14px;
  font-weight:900; cursor:pointer;
}
.year-item.active{ background:#2563eb; border-color:#284267; }
.year-item.dim{ opacity:.6; }

/* ===== Faixa de calend√°rio ===== */
.calendar-strip{
  display:grid;
  grid-template-columns: auto 1fr;
  grid-template-rows: auto auto;   /* 1¬™ linha: ano + meses | 2¬™: pill do dia */
  gap:8px 12px;
  align-items:center;
}

.year-pill{
  grid-row: 1 / span 2;            /* ocupa as 2 linhas (fica √† esquerda) */
  background:transparent; color:#e5e7eb;
  border:1px solid #334155; border-radius:12px;
  padding:10px 14px; font-weight:900; font-size:18px; cursor:pointer;
}

.months-bar{
  grid-column: 2; grid-row: 1;
  display:flex; align-items:center; gap:8px;
  border:1px solid #334155; border-radius:12px; padding:8px 10px;
}

.months-viewport{
  flex:1; overflow: auto hidden;
  scrollbar-width: none;
}
.months-viewport::-webkit-scrollbar{ display:none; }

.months{
  display:flex; gap:8px; padding:0 4px; white-space:nowrap;
}

.month-chip{
  background:transparent; color:#cbd5e1;
  border:1px solid #334155; border-radius:10px;
  padding:6px 10px; font-weight:800; font-size:12px; cursor:pointer;
}
.month-chip.active{ background:#2563eb; color:#fff; border-color:#284267; }
.month-chip.disabled{ opacity:.35; pointer-events:none; filter:grayscale(40%); }

.arrow{
  background:transparent; color:#cbd5e1;
  border:1px solid #334155; border-radius:10px;
  padding:6px 10px; cursor:pointer;
}
.arrow:disabled{ opacity:.35; cursor:not-allowed; }

/* pill do dia (√¢ncora para o m√™s vigente) */
.today-pill{
  grid-column: 1 / -1; grid-row: 2;     /* centralizada abaixo da faixa */
  justify-self: center;
  background:#0b1220; color:#e5e7eb;
  border:1px solid #334155; border-radius:10px;
  padding:8px 12px; font-weight:900;
}
<div class="months-bar">
  <button id="calPrev" class="arrow" type="button">‚óÄ</button>
  <div class="months-viewport">
    <div id="calMonths" class="months"></div>
  </div>
  <button id="calNext" class="arrow" type="button">‚ñ∂</button>
</div>


/* ===== Faixa de calend√°rio ===== */
.calendar-strip{
  display:grid;
  grid-template-columns: auto minmax(0,1fr); /* ano | meses */
  grid-template-rows: auto auto;             /* linha 1: ano+meses; linha 2: today */
  column-gap:12px; row-gap:8px;
  align-items:center;
}

.year-pill{
  grid-column:1; grid-row:1;
  background:transparent; color:#e5e7eb;
  border:1px solid #334155; border-radius:12px;
  padding:10px 14px; font-weight:900; font-size:18px; cursor:pointer;
}

/* barra dos meses ocupa toda a coluna da direita */
.months-bar{
  grid-column:2; grid-row:1;
  display:flex; align-items:center; gap:8px;
  width:100%;
  min-width:0; /* üîë permite o viewport encolher sem ‚Äúsumir‚Äù o conte√∫do */
  border:1px solid #334155; border-radius:12px; padding:8px 10px;
}

/* viewport recorta o que n√£o cabe */
.months-viewport{
  flex:1 1 auto;
  min-width:0;           /* üîë IMPORTANT√çSSIMO p/ n√£o colapsar */
  overflow:auto hidden;
  scrollbar-width:none;
}
.months-viewport::-webkit-scrollbar{ display:none; }

.months{
  display:flex; gap:8px; padding:0 4px; white-space:nowrap;
}

.month-chip{
  background:transparent; color:#cbd5e1;
  border:1px solid #334155; border-radius:10px;
  padding:6px 10px; font-weight:800; font-size:12px; cursor:pointer;
}
.month-chip.active{ background:#2563eb; color:#fff; border-color:#284267; }
.month-chip.disabled{ opacity:.35; pointer-events:none; filter:grayscale(40%); }

.arrow{
  background:transparent; color:#cbd5e1;
  border:1px solid #334155; border-radius:10px;
  padding:6px 10px; cursor:pointer;
}
.arrow:disabled{ opacity:.35; cursor:not-allowed; }

/* pill do dia (linha de baixo, centralizado) */
.today-pill{
  grid-column:1 / -1; grid-row:2;
  justify-self:center;
  background:#0b1220; color:#e5e7eb;
  border:1px solid #334155; border-radius:10px;
  padding:8px 12px; font-weight:900;
}
.calendar-strip{
  display:grid;
  grid-template-columns: auto minmax(0,1fr); /* ano | meses */
  grid-template-rows: auto auto;             /* 1¬™ linha: ano+meses | 2¬™: hoje */
  column-gap:12px; row-gap:8px;
  align-items:center;
  width:100%;
}

.year-pill{
  grid-column:1; grid-row:1;
  background:transparent; color:#e5e7eb;
  border:1px solid #334155; border-radius:12px;
  padding:10px 14px; font-weight:900; font-size:18px; cursor:pointer;
}

.months-bar{
  grid-column:2; grid-row:1;
  display:flex; align-items:center; gap:8px;
  width:100%;
  min-width:0; /* üîë n√£o deixar colapsar */
  border:1px solid #334155; border-radius:12px; padding:8px 10px;
}

.months-viewport{
  flex:1 1 auto;
  min-width:0;            /* üîë important√≠ssimo */
  overflow:auto hidden;
  scrollbar-width:none;
}
.months-viewport::-webkit-scrollbar{ display:none; }

.months{ display:flex; gap:8px; padding:0 4px; white-space:nowrap; }

.month-chip{
  background:transparent; color:#cbd5e1;
  border:1px solid #334155; border-radius:10px;
  padding:6px 10px; font-weight:800; font-size:12px; cursor:pointer;
}
.month-chip.active{ background:#2563eb; color:#fff; border-color:#284267; }
.month-chip.disabled{ opacity:.35; pointer-events:none; filter:grayscale(40%); }

.arrow{
  background:transparent; color:#cbd5e1;
  border:1px solid #334155; border-radius:10px;
  padding:6px 10px; cursor:pointer;
}
.arrow:disabled{ opacity:.35; cursor:not-allowed; }

.today-pill{
  grid-column:1 / -1; grid-row:2;
  justify-self:center;
  background:#0b1220; color:#e5e7eb;
  border:1px solid #334155; border-radius:10px;
  padding:8px 12px; font-weight:900;
}

/* ordem dos modais (pilha) */
#finishedModal     { z-index: 60; }
#bookDetailModal   { z-index: 70; }  /* detalhe SEMPRE acima da meta */
#goalEditModal     { z-index: 80; }  /* editor SEMPRE acima de todos */

/* bot√£o ‚úé menorzinho dentro do cabe√ßalho da meta */
.fm-edit{
  width:auto; min-width:32px; height:28px; padding:0 8px; line-height:1;
  border-radius:8px; margin-inline:8px;
}

/* layout da linha e do lado direito (valor + ‚úé) */
.fm-row{
  display:flex; align-items:center; justify-content:space-between;
}
.fm-end{
  display:flex; align-items:center; gap:8px;
}

/* bot√£o ‚úé compacto ao lado do valor */
.fm-edit{
  width:auto; min-width:32px; height:28px; padding:0 8px; line-height:1;
  border-radius:8px; margin-inline-start:4px;
}

/* barra mais curta e com anima√ß√£o de ‚Äúload‚Äù */
.fm-bar{
  width: clamp(180px, 80%, 420px);   /* <<< mais curta e responsiva */
  margin: 6px auto 2px;              /* centralizada */
}


/* pilha (z-index) para garantir modais na frente */
#finishedModal   { z-index: 60; }
#bookDetailModal { z-index: 70; }   /* detalhe acima da meta */
#goalEditModal   { z-index: 80; }   /* editor de meta acima de todos */

/* ========== Barra de carregamento de Meta ========== */
/* Deixa o cart√£o do modal um pouco mais estreito */
.finished-card{
  width: min(760px, 92vw);
}

/* O bloco Meta/Conclu√≠dos fica mais curto e centralizado */
.fm-meter{
  width: min(520px, 100%);
  margin: 6px auto 12px;
}

/* Barra mais curta e central, com anima√ß√£o do "load" */
.fm-bar{
  width: min(420px, 80%);
  margin: 8px auto 4px;
  height: 10px;
}

/* >>> For√ßa o preenchimento da barra da META ir da ESQUERDA para a DIREITA  */
.fm-bar > span{
  position: absolute;
  top: 0; bottom: 0; left: 0; right: auto;   /* <<< n√£o deixa ancorar √† direita */
  width: 0;
  transition: width .35s ease;
}

/* Ordem dos modais (detalhe acima da meta, editor acima de tudo) */
#finishedModal   { z-index: 60; }
#bookDetailModal { z-index: 70; }
#goalEditModal   { z-index: 80; }


/* === Progress bars: fill L->R em TODO o app === */
.progress-bar{ position: relative; overflow: hidden; }

.progress-bar > span{
  position: absolute;
  top: 0; bottom: 0;
  left: 0;           /* ancora √† ESQUERDA */
  right: auto;       /* garante que n√£o fique ancorado √† direita */
  width: 0;          /* o JS seta em % */
  transition: width .35s ease;
}

/* Modal um pouco mais estreito */
.finished-card{
  width: min(720px, 92vw);
}

/* Bloco "Meta / Conclu√≠dos" enxuto e centralizado */
.fm-meter{
  inline-size: min(520px, 100%);
  margin: 6px auto 12px;
}

/* Barra curta, central */
.fm-bar{
  inline-size: min(420px, 80%);
  margin: 8px auto 4px;
  height: 10px;
}


/* Meta: fill L‚ÜíR garantido e animado */
#fmBar { position: relative; }
#fmBar > span{
  position: absolute;
  top: 0; bottom: 0;
  left: 0 !important;      /* ancora na ESQUERDA */
  right: auto !important;  /* neutraliza regras antigas */
  width: 0;                /* o JS seta a % */
  transition: width .35s ease;
}

/* Meta: barra L‚ÜíR garantida */
#fmBar { position: relative; }
#fmBar > span{
  position: absolute;
  top: 0; bottom: 0;
  left: 0 !important;
  right: auto !important;
  width: 0;                            /* o JS define a % */
  transition: width .35s ease;
}

/* Deixar o cart√£o e o bloco da meta mais enxutos (opcional) */
.finished-card{ width: min(720px, 92vw); }
.fm-meter{ inline-size: min(500px, 100%); margin: 6px auto 12px; }
.fm-bar{ inline-size: min(400px, 80%); margin: 8px auto 4px; height: 10px; }

#fmBar { position: relative; }
#fmBar > span{
  position: absolute;
  top: 0; bottom: 0;
  left: 0 !important;
  right: auto !important;
  width: 0;
  transition: width .35s ease;
}

/* ====== FINISHED MODAL ====== */
/* Cart√£o e bloco da meta mais enxutos */
.finished-card{ width: min(720px, 92vw); }
.fm-meter{ inline-size: min(520px, 100%); margin: 6px auto 12px; }

/* Barra curta e central (meta) */
.fm-bar{
  inline-size: min(420px, 80%);
  margin: 8px auto 4px;
  height: 10px;
}

/* Meta: fill L‚ÜíR garantido e animado (ganha de qualquer regra antiga) */
#fmBar{ position: relative; }
#fmBar > span{
  position: absolute;
  top: 0; bottom: 0;
  left: 0 !important;
  right: auto !important;
  width: 0;                       /* JS define percentual */
  transition: width .35s ease;
}

/* Cores do n√∫mero conforme a cor da meta (mesma paleta da barra) */
.fm-meter.accent-blue  .fm-value{ color:#2563eb; }
.fm-meter.accent-green .fm-value{ color:#22c55e; }
.fm-meter.accent-amber .fm-value{ color:#fbbf24; }
.fm-meter.accent-red   .fm-value{ color:#ef4444; }
.fm-meter.accent-gray  .fm-value{ color:#94a3b8; }

/* √Åreas clic√°veis: m√£ozinha e sem I-beam */
.fm-meter{ user-select: none; }
#fmEditMeta, #fmBar, #fmGoal{ cursor: pointer; }

/* ====== SELE√á√ÉO NA ESTANTE ====== */
#shelf.is-select-mode .badge{ display:none; }          /* esconde ‚ÄúLido/60%‚Äù */
.book-card{ position: relative; }                      /* para posicionar o checkbox */
.select-check{
  position: absolute; top: 12px; right: 12px;
  width: 20px; height: 20px; z-index: 3;
  appearance: none; outline: none; cursor: pointer;
  border: 2px solid #0b1220; border-radius: 6px; background: #0b1220;
}
.select-check:checked{
  background:#e0e3e9; border-color:#2563eb;
  box-shadow: 0 0 0 2px rgba(37,99,235,.35);
}
.book-card.is-selected{
  border-color:#3b82f6 !important;
  box-shadow: 0 0 0 2px rgba(59,130,246,.25);
}

/* Ordem dos modais (detalhe > meta, editor > todos) */
#finishedModal   { z-index: 60; }
#bookDetailModal { z-index: 70; }
#goalEditModal   { z-index: 80; }

#fmEditMeta, #fmBar, #fmGoal{ cursor: pointer; }
#fmBar{ position: relative; }
#fmBar > span{ position:absolute; top:0; bottom:0; left:0 !important; right:auto !important; width:0; transition:width .35s ease; }

#shelf.is-select-mode .badge{ display:none; }
.book-card{ position:relative; }
.select-check{
  position:absolute; top:12px; right:12px;
  width:20px; height:20px; z-index:3;
  appearance:none; cursor:pointer; outline:none;
  border:2px solid #334155; border-radius:6px; background:#0b1220d5;
}
.select-check:checked{
  background:#0d6aff; border-color:#2561e4;
  box-shadow:0 0 0 2px rgba(37,99,235,.35);
}
.book-card.is-selected{
  border-color:#3b83f6 !important;
  box-shadow:0 0 0 2px rgba(59,130,246,.25);
}
/* Livro atual conclu√≠do: t√≠tulo verde e status azul */
#currentBookBar.is-complete #currentBookName { color:#22c55e; }
#currentBookBar.is-complete #currentBookStatus { color:#60a5fa; }
